pipeline {
  agent none

        stages {
  
        docker
          {
            image 'maven:3.8.6-jdk-8'
          }
  
          stage("build & sonarqube") {
            agent any
            steps {
              withSonarQubeEnv('sonarqube-server') {
                sh 'mvn clean package sonar:sonar'
              }
            }
          }
        }
      }
